<% provide(:title, t(:user_list_title)) %>

<h1><%= t(:user_list_title) %></h1>

<table>
	<thead>
		<tr>
			<th><%= t(:form_user_name) %></th>
			<th><%= t(:form_user_email) %></th>
			<th><%= t(:form_user_language) %></th>
			<th><%= t(:form_user_role) %></th>
			<th><%= t(:form_user_active) %></th>
			<th></th>
			<th></th>
			<th></th>
		</tr>
	</thead>

	<tbody>
		<% @users.each do |user| %>
			<tr>
			<td><%= user.name %> <%= user.surname %></td>
			<td><%= user.email %></td>
			<td><%= user.language %></td>
			<td><%= user.role %></td>
			<td><%= user.active %></td>
			<td><%= link_to t(:resource_show), user %></td>
			<td><%= link_to t(:resource_edit), edit_user_path(user) if current_user.allowed_to?(:edit_user) %></td>
			<% if user.active %>
				<% if current_user && current_user.allowed_to?(:destroy_users) %>
				<td><%= link_to t(:resource_destroy), user, method: :delete, data: { confirm: t(:resource_destroy_confirm) } %></td>
				<% end %>
			<% else %>
				<% if current_user && current_user.allowed_to?(:destroy_users) %>
				<td><%= link_to t(:reactivate_user), user, method: :activate %></td>
				<% end %>
			<% end %>
			</tr>
		<% end %>
	</tbody>
</table>

<br>

<%= link_to t(:form_user_new_title), new_user_path %>
